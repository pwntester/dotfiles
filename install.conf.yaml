- defaults:
    link:
      relink: true

- clean: ['~']

- create:
    - ~/.config

- shell:
  - rm ~/.zshrc

- link:
    ~/.config/nvim: config/nvim
    ~/.ideavimrc: home/ideavimrc
    ~/.tmux.conf: home/tmux.conf
    ~/.zshrc: home/zshrc
    ~/.zshenv: home/zshenv
    ~/.zsh: home/zsh
    ~/bin: home/bin

- shell:
  - [sudo chsh -s `which zsh`, Making zsh the default shell]

# Install neovim
- shell:
  - sudo apt-get install -y fuse libfuse2
  - curl -L -o $HOME/bin/nvim https://github.com/neovim/neovim/releases/download/nightly/nvim.appimage
  - chmod a+x $HOME/bin/nvim
  - nvim --headless +"sleep 5" +"autocmd User PackerComplete quitall" +"silent PackerSync"
  - nvim --headless +"sleep 5" +"silent TSInstall python ql" +"sleep 60" +qa
